<div class="row">
  <div class="col-12 align-items-center">
    <div
      class="card-header mb-3 d-flex align-items-center justify-content-evenly"
    >
      <h3 class="text-light mb-0">Datos personales</h3>
      <button
        *ngIf="!personas?.length && realRol === 'admin'"        
        class="d-flex flex-column btn btn-primary"
        (click)="openModal()"
        type="button"
      >
        Nuevo
      </button>
    </div>
    <div class="card shadow rounded">
      <app-loader-dashboard></app-loader-dashboard>
      <div class="card-body">
        <ng-template #valid><h3>Por favor ingrese datos</h3> </ng-template>
        <section *ngIf="personas?.length; else valid">
          <div *ngFor="let item of personas" class="row">
            <div class="col-12 col-md-6">
              <span class="fw-bold">Nombre:</span>
              <li>{{ item.nombre }}</li>
              <span class="fw-bold">apellido:</span>
              <li>{{ item.apellido }}</li>
              <span class="fw-bold">nacimiento:</span>
              <li>{{ item.nacimiento | date: "dd/MM/yyyy" }}</li>
              <span class="fw-bold">ocupacion</span>
              <li>{{ item.ocupacion }}</li>
              <span class="fw-bold">stack</span>
              <li>{{ item.stack }}</li>
            </div>
            <div class="col-12 col-md-6">
              <span class="fw-bold">nacionalidad:</span>
              <li>{{ item.nacionalidad }}</li>

              <span class="fw-bold">provincia:</span>
              <li>{{ item.provincia }}</li>
              <span class="fw-bold">domicilio:</span>
              <li>{{ item.domicilio }}</li>
              <span class="fw-bold">titulo sobre mi:</span>
              <li>{{ item.tituloAbout }}</li>
              <span class="fw-bold">telefono:</span>
              <li>{{ item.nro }}</li>
            </div>
            <div class="col-12 mb-4">
              <span class="fw-bold">descripion:</span>
              <li>{{ item.descripion }}</li>
            </div>
           <!--  [ngStyle]="{ height: '100px' }" -->
              <div class="row">
                <div class="col-12 col-md-6 mb-3 d-flex flex-column">
                  <span class="fw-bold">imagen de banner:</span>
                  <img
                    [src]="item.imgBanner"
                    width="100px"
                    height="100px"
                    class="img-thumbnail"
                  />
                </div>
                <div class="col-12 col-md-6 d-flex flex-column">
                  <span class="fw-bold mb-1">imagen sobre mi:</span>
                  <img
                    [src]="item.imgAbout"
                    width="100px"
                    height="100px"
                    class="img-thumbnail"
                  />
                </div>
              </div>
           
            <div
            *ngIf="realRol === 'admin'"
            class="d-flex w-20 justify-content-evenly mt-5"
          >
            <button
              type="button"
              class="btn btn-warning"
              (click)="openEdit(item)"
            >
              Editar
            </button>
            <button
              type="button"
              class="btn btn-danger"
              (click)="eliminar(item)"
            >
              Eliminar
            </button>
          </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>

  <div *ngIf="mostrar"  class="modal " tabindex="-1">
    <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
          <ng-template #valido>          
            <h2 class="text-dark">Actualiza tus datos</h2>
          </ng-template>
        <h2  *ngIf="!visibleBtn;else valido" class="modal-title text-dark">Guardar</h2>
        <button (click)="cerrarModal()" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body ">               
          <form
          class="needs-validation"
          body
          [formGroup]="formulario"
          (ngSubmit)="guardar()"
        >
          <div class="form-floating input-group-sm mb-3 has-validation">
            <input
              type="text"
              class="form-control"
              formControlName="nombre"
              id="floatingInput"
            />
            <label for="floatingInput">Nombre</label>
            <div *ngIf="nombre?.errors && nombre?.touched">
              <p *ngIf="nombre?.hasError('required')" class="alert-danger">
                nombre requerido
              </p>
            </div>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="apellido"
              id="floatingInput"
            />
            <label for="floatingInput">Apellido</label>
            <p
              *ngIf="apellido?.hasError('required') && apellido?.touched"
              class="alert-danger"
            >
              falta apellido
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="date"
              class="form-control"
              formControlName="nacimiento"
              id="floatingInput"
            />
            <label for="floatingInput">nacimiento</label>
            <p
              *ngIf="nacimiento?.hasError('required') && nacimiento?.touched"
              class="alert-danger"
            >
              falta nacimiento
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="ocupacion"
              id="floatingInput"
            />
            <label for="floatingInput">ocupacion</label>
            <p
              *ngIf="ocupacion?.hasError('required') && ocupacion?.touched"
              class="alert-danger"
            >
              falta ocupacion
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="stack"
              id="floatingInput"
            />
            <label for="floatingInput">stack</label>
            <p
              *ngIf="stack?.hasError('required') && stack?.touched"
              class="alert-danger"
            >
              falta stack
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="nacionalidad"
              id="floatingInput"
            />
            <label for="floatingInput">nacionalidad</label>
            <p
              *ngIf="nacionalidad?.hasError('required') && nacionalidad?.touched"
              class="alert-danger"
            >
              falta nacionalidad
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="provincia"
              id="floatingInput"
            />
            <label for="floatingInput">provincia</label>
            <p
              *ngIf="provincia?.hasError('required') && provincia?.touched"
              class="alert-danger"
            >
              falta provincia
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="domicilio"
              id="floatingInput"
            />
            <label for="floatingInput">domicilio</label>
            <p
              *ngIf="domicilio?.hasError('required') && domicilio?.touched"
              class="alert-danger"
            >
              falta domicilio
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <textarea
              rows="4"
              class="form-control"
              formControlName="descripion"
              id="floatingInput"
            >
            </textarea>
            <label for="floatingInput">descripion</label>
            <p
              *ngIf="descripion?.hasError('required') && descripion?.touched"
              class="alert-danger"
            >
              falta descripion
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="imgBanner"
              id="floatingInput"
            />
            <label for="floatingInput">imagen de banner</label>
            <p
              *ngIf="imgBanner?.hasError('required') && imgBanner?.touched"
              class="alert-danger"
            >
              falta imagen
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="imgAbout"
              id="floatingInput"
            />
            <label for="floatingInput">imagen de sobre mi</label>
            <p
              *ngIf="imgAbout?.hasError('required') && imgAbout?.touched"
              class="alert-danger"
            >
              falta imagen
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="tituloAbout"
              id="floatingInput"
            />
            <label for="floatingInput">titulo sobre mi</label>
            <p
              *ngIf="tituloAbout?.hasError('required') && tituloAbout?.touched"
              class="alert-danger"
            >
              falta titulo
            </p>
          </div>
          <div class="form-floating input-group-sm mb-3">
            <input
              type="text"
              class="form-control"
              formControlName="nro"
              id="floatingInput"
            />
            <label for="floatingInput">numero de telefono</label>
            <p *ngIf="nro?.hasError('required') && nro?.touched" class="alert-danger">
              falta nro
            </p>
          </div>
        </form>
      
      
        </div>
        <div class="modal-footer  justify-content-center "> 
          
          <button
          *ngIf="!visibleBtn"
          (click)="guardar()"          
          class="d-flex flex-column btn btn-primary"
          type="button"
        >
          Guardar
        </button>
        <button
        (click)="editar()"
        *ngIf="visibleBtn"        
        class="d-flex flex-column btn btn-primary"
        type="button"        
      >
        actualizar
      </button>
        </div>
    </div>
    </div>
</div>
  